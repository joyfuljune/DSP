# Lab 1 - 利用FFT计算频谱及结果分析

## 实验目的
在本实验中，我们将使用MATLAB对离散时间信号进行频域分析。本实验的目的是利用FFT计算离散时间序列的频谱，通过结果分析并理解具有固定频率和时变频率（例如语音信号）的数字信号的频谱特点。此外，我们还将通过fft计算方法简要分析线性卷积和循环卷积之间的关系。

## 实验内容

### DTFT
对于离散时间信号（DT）求其频域表达，使用DTFT，也就是离散时间傅里叶变换。此时的信号是一个离散的非周期的实数或复数序列。离散时间信号x[n]的DTFT由下式给出

$$ X(e^{j\omega})=\sum_{-\infty}^{\infty}\{x[n]e^{-j\omega n}}$$  

这被称为DTFT分析式。 合成式由下式给出，
$$x\left[n\right]=\frac{1}{2\pi}\int_{-\pi}^{\pi}{X\left(e^{j\omega}\right)e^{j\omega n}}d\omega$$

注意DTFT的两个特性有1. DTFT是连续的，2. DTFT是周期性的，周期为2π。 在计算机系统中，想要实现一个连续的数值变量是不可能的，所以对DTFT的任何数值实现有两个要求分别是：1. x[n]必须具有有限长度，2. $X(e^{jω})$只能在连续频率变量ω的有限数量的样本处计算，即ω的个数是有限的。在满足这两条要求的前提下，我们可以通过MATLAB来计算一个DT序列的频谱。实际上，如果x[n]是有限的，ω的数量也是有限的，我们就把DTFT离散化了。

### DFT & IDFT
理论上DTFT分析方程的计算是从负无穷到正无穷进行求和，在计算机中是不可实现的，我们使用DFT，也就是离散傅里叶变换来进行谱分析。DFT和DTFT之间的关系可以理解为有限长序列的DFT结果包含了N个离散频率点处的DTFT结果，这个离散频率点等间隔地分布在区间\[0,2π\)内。如果离散频率点数量足够多的话我们就可以通过DFT近似得到DTFT的结果。为了计算效率，我们决定将连续频率变量ω所在的-0到2π的周期范围内，等分
$$\omega_k=\frac{2\pi k}{N},k=0,1,\ldots N-1$$
个点。则对于一个非零的离散时间信号x[n]来说，他的DFT定义为
$$X\left[k\right]=\sum_{n=0}^{N-1}{x\left[n\right]e^{-\frac{j2\pi k n}{N}}}, k=0,1,2\ldots N-1$$
逆离散傅里叶变换IDFT的公式有
$$x\left[n\right]=\frac{1}{N}\sum_{k=0}^{N-1}{x\left[n\right]e^{\frac{j2\pi k n}{N}\ }},n=0,1,2\ldots N-1$$

### FFT
在MATLAB中，函数fft以更加高效的计算方式实现DFT操作。 FFT代表快速傅里叶变换。如果x是包含x [n]的向量，0≤n≤N，则X = fft（x，N）计算x的DTFT的N个均匀间隔的样本（实际就是DFT），并将这些样本存储在向量X中。函数ifft可用于有效地计算IDFT。另请注意，fft函数计算区间\[0,2π\)中的DFT，要在区间\[-π，π\]中进行计算，可以使用fftshift函数进行移位。

#### 例题
有信号x[n]=u[n]-u[n-1]，回答以下问题。
1.	手动计算x[n]所对应的DTFT
2.	使用fft计算出DFT结果并将结果画图显示
3.	通过对x[n]信号中补充零然后再计算其DFT，可以提高原DFT的分辨率。这可以通过选择N> M使用fft（x，N）命令来完成，其中M是序列长度。选择N = 100,500,1000进行尝试。观察DFT看起来与DTFT类似吗？（所谓补充零就是在信号末尾加0，例如x[n]={1,2,3}，x的长度为3，补充零到5位，则x变成x[n]={1,2,3,0,0}。实际上在使用fft函数的时候，如果原序列长度为10，选择N为20则fft(x[n],N)自动在序列后补充10个零，不需要手动更改x[n]的值，此外，如果选择N为5，fft(x[n],5)将截取x中前5个元素进行计算。）
解：


